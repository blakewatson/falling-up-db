<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />
    <title>Falling Up Database</title>
    <link rel="stylesheet" href="css/pico.min.css" />
    <link rel="stylesheet" href="css/spacing.css" />
    <link rel="stylesheet" href="css/style.css" />
    <script defer type="module" src="js/app.js"></script>
  </head>

  <body>
    <header class="container">
      <strong>Falling Up Lyrics Archive</strong>
    </header>

    <main class="container" x-data="app">
      <form @submit.prevent="search">
        <input
          type="search"
          name="search"
          placeholder="Search"
          aria-label="Search"
          x-model="searchInput"
        />

        <div class="filters my-xs">
          <label>
            <input type="checkbox" x-model="isFuzzy" />
            Fuzzy match
          </label>

          <label>
            <input type="checkbox" x-model="isPrefix" />
            Prefix match
          </label>
        </div>
      </form>

      <template x-for="track in results">
        <article>
          <h2 x-text="track.title"></h2>
          <p x-text="track.albumTitle"></p>
          <!-- <div x-html="nl2br(track.lyrics)"></div> -->

          <template x-for="snippet in getHighlightedSnippets(track)">
            <div class="snippet mb-md pb-md" x-html="snippet"></div>
          </template>
        </article>
      </template>
    </main>
  </body>
</html>
